<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>gif</title>
        <link rel="stylesheet" href="http://qidian.gtimg.com/lulu/theme/peak/css/common/lib.css">
        <link rel="stylesheet" href="http://qidian.gtimg.com/lulu/theme/peak/css/common/ui.css">
        <style>
            .demo { width: 600px; margin: auto; font-family: 'Pingfang SC', 'Microsoft Yahei'; font-size: medium;}
            .img-list{margin-top: 10px; overflow: hidden;}
            .img-x{width:120px; float: left; margin-right: 10px;}
            .img{height: 80px; max-width: 100%; display: block; object-fit: contain; object-position: left; background: url(./images/tt-bg.gif); background-size: 8px 8px;}
            .tab{display:inline-block; margin: 10px 10px 10px 0;}
            .tab + .tab { margin-left: 30px; }
            .img-input-x{margin-top: 20px; overflow: hidden;}
            .img-input-x > .ui-input {width: 224px; float: left;}
            .img-input-delay{margin-right: 5px;width: 6em; width: 8ch;}
            .img-tips{position: absolute;font-size: 12px;background-color: rgba(0,0,0,.35);color: #fff;white-space:nowrap;text-overflow: ellipsis;overflow: hidden;max-width: 120px;}
            .result { margin: 40px 0 10px; text-align: center;}
            .result img{max-width: 100%;}
            .play-list{display: none;}
            .radio-switch {display: none;}
            :checked ~ .radio-switch{display: block;}
            .upload_box{position: relative;}
            .upload_main{border-width:1px 1px 2px; border-style:solid; border-color:#ccc #ccc #ddd; background-color:#fbfbfb;}
            .upload_choose{padding:1em;}
            .upload_drag_area{display:inline-block; width:72%; padding:4em 0; margin-left:1em; border:1px dashed #ddd; background:#fff url(./images/drag.png) no-repeat 20px center; color:#999; text-align:center; vertical-align:middle;}
            .upload_drag_hover{border-color:#069; box-shadow:inset 2px 2px 4px rgba(0, 0, 0, .5); color:#333;}
            .upload_preview{border-top:1px solid #bbb; border-bottom:1px solid #bbb; background-color:#fff; overflow:hidden; _zoom:1;}
            .upload_append_list{height:300px; padding:0 1em; float:left; position:relative;}
            .upload_delete{position: absolute; right: 0; font-size: 14px; margin-top: -30px;}
            .upload_image{max-height:250px; padding:5px;}
            .upload_submit{padding-top:1em; padding-left:1em;}
            .upload_submit_btn{display:none; height:32px; font-size:14px;}
            .error{text-align: center; color: #cd0000;}
            .down-tips{margin-top: 10px; color: gray; font-size: 14px;text-align: center;}
            :empty + .down-tips{display: none;}
        </style>
        <script src="http://pagead2.googlesyndication.com/pagead/js/r20180516/r20180518/osd.js"></script>
        <script src="http://pagead2.googlesyndication.com/pub-config/r20160913/ca-pub-0090627341039040.js"></script>
        <script type="text/javascript" src="https://adservice.google.com/adsid/integrator.js?domain=www.zhangxinxu.com"></script>
    </head>
    <body>
        <div id="main">
        <div id="body" class="light">
            <div id="content" class="show">
                <h3>纯web前端生成GIF表情</h3>
                <form id="form" class="demo" action="./cgi/template.php">
                    <div class="mt20">
                        <input type="radio" id="radioModule" name="radio" value="module">
                        <label for="radioModule" class="ui-radio mr5"></label><label for="radioModule" class="ml2">使用现有模板</label>
                        <div class="mt10 pl30 radio-switch">
                            <div>
                                <span class="tab">
                                    <input type="radio" id="radioTpl1" name="template" value="money"><label for="radioTpl1" class="ui-radio mr5"></label><label for="radioTpl1">有钱为所欲为</label>
                                </span>
                                <span class="tab">
                                    <input type="radio" id="radioTpl2" name="template" value="food"><label for="radioTpl2" class="ui-radio mr5"></label><label for="radioTpl2">王境泽真香</label>
                                </span>
                                <span class="tab">
                                    <input type="radio" id="radioTpl3" name="template" value="wind"><label for="radioTpl3" class="ui-radio mr5"></label><label for="radioTpl3">今天的风甚为喧闹</label>
                                </span>
                            </div>
                            <!-- 为所欲为 -->
                            <div id="moneyListX" class="play-list jsPlayList">
                                <div class="img-list">
                                    <div class="img-x"><img src="./images/food/1.jpg" class="img img-food"></div>
                                    <div class="img-input-x">
                                        <div class="ui-input"><input name="message" placeholder="输入对话信息" value="我王境泽就是饿死"></div>
                                        <div class="ovh">
                                            <span class="l mt5 ml20">延时：</span>
                                            <input type="number" name="delay" min="0" step="1" size="4" class="ui-input img-input-delay" value="1500">ms
                                        </div>
                                    </div>
                                </div>

                                <div class="img-list">
                                    <div class="img-x"><img src="./images/food/2.jpg" class="img img-food"></div>
                                    <div class="img-input-x">
                                        <div class="ui-input"><input name="message" placeholder="输入对话信息" value="死外边 从这里跳下去"></div>
                                        <div class="ovh">
                                            <span class="l mt5 ml20">延时：</span>
                                            <input type="number" name="delay" min="0" step="1" size="4" class="ui-input img-input-delay" value="1500">ms
                                        </div>
                                    </div>
                                </div>

                                <div class="img-list">
                                    <div class="img-x"><img src="./images/food/3.jpg" class="img img-food"></div>
                                    <div class="img-input-x">
                                        <div class="ui-input"><input name="message" placeholder="输入对话信息" value="不会吃你们一点东西"></div>
                                        <div class="ovh">
                                            <span class="l mt5 ml20">延时：</span>
                                            <input type="number" name="delay" min="0" step="1" size="4" class="ui-input img-input-delay" value="1500">ms
                                        </div>
                                    </div>
                                </div>

                                <div class="img-list">
                                    <div class="img-x"><img src="./images/food/4.jpg" class="img img-food"></div>
                                    <div class="img-input-x">
                                        <div class="ui-input"><input name="message" placeholder="输入对话信息" value="真香"></div>
                                        <div class="ovh">
                                            <span class="l mt5 ml20">延时：</span>
                                            <input type="number" name="delay" min="0" step="1" size="4" class="ui-input img-input-delay" value="1500">ms
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- 王境泽 -->
                            <div id="foodListX" class="play-list jsPlayList"></div>
                            <!-- 男子高校 -->
                            <div id="windListX" class="play-list jsPlayList"></div>
                        </div>
                    </div>
                    <div class="mt20">
                        <input type="radio" id="radioCustom" name="radio" value="custom">
                        <label for="radioCustom" class="ui-radio mr5"></label><label for="radioCustom" class="ml2">自己DIY GIF内容</label>

                        <div class="mt10 pl30 radio-switch">
                            <div class="upload_box">
                                <div class="upload_main">
                                    <div class="upload_choose">
                                        <label for="fileImage" id="upImgBtn" class="ui-button ui-button-primary">上传序列图片</label>
                                        <input id="fileImage" type="file" class="clip" multiple="" accept="image/jpeg,image/png,image/gif">
                                        <span id="fileDragArea" class="upload_drag_area">或者将图片拖到此处</span>
                                    </div>
                                    <div id="preview" class="upload_preview"></div>
                                </div>
                                <div class="upload_submit">
                                    <button type="button" id="fileSubmit" class="upload_submit_btn">确认上传图片</button>
                                </div>
                                <div id="uploadInf" class="upload_inf"></div>
                            </div>
                        </div>
                    </div>
                    <script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script>
                    <script>
                        var storeGifRadio = localStorage.storeGifRadio;
                        if (storeGifRadio) {
                            document.getElementById(storeGifRadio).checked = true;
                        } else {
                            document.getElementById('radioModule').checked = true;
                            localStorage.storeGifRadio = 'radioModule';
                        }
                    </script>

                    <!-- 最后的生成按钮 -->
                    <div class="mt30 tc">
                        <input type="submit" id="submitBtn" class="ui-button ui-button-warning" value="生成GIF图片">
                    </div>

                    <!-- 这是生成效果图 -->
                    <div id="result" class="result"></div>
                    <p class="down-tips">右键另存图片即可下载</p>
                </form>
            </div>       
        </div>
        </div>
        <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js"></script>
        <script src="./gif.js"></script>
        <script src="./main-min.js"></script>
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-11205167-1']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script');
                    ga.type = 'text/javascript';
                    ga.async = true;
                    ga.src = 'http://www.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>